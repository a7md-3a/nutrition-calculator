<!doctype html>
<html lang="ar">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ุญุงุณุจุฉ ุงูุชุบุฐูุฉ โ ุฎุทุชู ุงูุดุฎุตูุฉ ููุฏุฉ 30 ููู</title>
<style>
  body{font-family:system-ui, Arial, "Helvetica Neue", sans-serif;direction:rtl;background:#fefefe;margin:0;padding:24px;color:#222}
  .card{background:#fff;border-radius:14px;padding:20px;margin:14px 0;box-shadow:0 3px 12px rgba(0,0,0,.1)}
  h1{margin:0 0 6px;font-size:24px;text-align:center;color:#0b74de;font-weight:900}
  h2{text-align:center;color:#444;margin-top:0;font-weight:600}
  .logo{text-align:center;margin-bottom:14px;font-weight:bold;color:#0b74de;font-size:32px;letter-spacing:6px;user-select:none;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
  label{display:block;margin:12px 0 6px;font-weight:700;color:#333}
  input,select{width:100%;padding:12px;border:1px solid #ccc;border-radius:12px;font-size:16px;box-sizing:border-box}
  .row{display:flex;gap:12px}
  .row > *{flex:1}
  button{padding:14px 18px;border:none;border-radius:12px;background:#0b74de;color:#fff;font-weight:700;cursor:pointer;transition:background .3s}
  button:hover{background:#094d99}
  .result{white-space:pre-wrap;font-family:inherit;margin-top:18px;color:#222;line-height:1.5}
  .actions{display:flex;gap:12px;margin-top:16px}
  .small{text-align:center;color:#555;font-size:14px;margin-top:8px}
  footer{font-size:12px;color:#888;margin-top:28px;text-align:center}
  @media(min-width:700px){body{padding:32px;}}

</style>
</head>
<body>
  <div class="card">
    <div class="logo">๐งฌ ููุธุงูู</div>
    <h1>ุญุงุณุจุฉ ุงูุชุบุฐูุฉ โ ุฎุทุชู ุงูุดุฎุตูุฉ ููุฏุฉ 30 ููู</h1>
    <h2>ุงุฏุฎู ูุนูููุงุชู ููุญุตูู ุนูู ุฎุทุฉ ุบุฐุงุฆูุฉ ูุตููุฉ ูู</h2>

    <label>ุงูุนูุฑ (ุณูุฉ)</label>
    <input id="age" type="number" min="10" max="100" value="">

    <div class="row">
      <div>
        <label>ุงูุทูู (ุณู)</label>
        <input id="height" type="number" min="100" max="230" value="">
      </div>
      <div>
        <label>ุงููุฒู (ูุบ)</label>
        <input id="weight" type="number" min="30" max="250" value="">
      </div>
    </div>

    <div class="row" style="margin-top:8px">
      <div>
        <label>ุงูุฌูุณ</label>
        <select id="gender">
          <option value="" disabled selected>ุงุฎุชุฑ</option>
          <option value="male">ุฐูุฑ</option>
          <option value="female">ุฃูุซู</option>
          <option value="other">ุฃูุถู ุนุฏู ุงูุชุญุฏูุฏ</option>
        </select>
      </div>
      <div>
        <label>ูุณุชูู ุงููุดุงุท</label>
        <select id="activity">
          <option value="" disabled selected>ุงุฎุชุฑ</option>
          <option value="1.2">ูููู ุงูุญุฑูุฉ (ูููู ุงูุชูุฑูู)</option>
          <option value="1.375">ุชูุงุฑูู ุฎูููุฉ 1-3 ุฃูุงู</option>
          <option value="1.55">ุชูุงุฑูู ูุนุชุฏูุฉ 3-5 ุฃูุงู</option>
          <option value="1.725">ุชูุงุฑูู ูุซููุฉ 6-7 ุฃูุงู</option>
          <option value="1.9">ุญุฑูู/ูุดูุท ุฌุฏุงู</option>
        </select>
      </div>
    </div>

    <label>ุงููุฏู</label>
    <select id="goal">
      <option value="" disabled selected>ุงุฎุชุฑ</option>
      <option value="lose">ููุต ูุฒู (ุฎุณุงุฑุฉ)</option>
      <option value="maintain">ุงูุญูุงุธ ุนูู ุงููุฒู</option>
      <option value="gain">ุฒูุงุฏุฉ ูุฒู (ูุชูุฉ)</option>
    </select>

    <div class="actions">
      <button id="calcBtn">ุงุญุณุจ ูุงุทูุน ุงูุฎุทุฉ</button>
      <button id="printBtn" style="background:#2dbe60">ุทุจุน / ุญูุธ ูู PDF</button>
    </div>
    <p class="small">ุฌููุน ุงููุชุงุฆุฌ ุชูุฏูุฑูุฉุ ุงุณุชุดุฑ ูุฎุชุต ุชุบุฐูุฉ ูุฃู ุญุงูุฉ ุฎุงุตุฉ.</p>
  </div>

  <div id="output" class="card" style="display:none"></div>

<script>
function roundToBand(kcal){
  const bands=[1200,1400,1500,1600,1800,2000,2200,2400,2600,2800,3000,3200];
  let best=bands[0],md=Math.abs(kcal-bands[0]);
  for(let b of bands){let d=Math.abs(kcal-b); if(d<md){md=d;best=b;}}
  return best;
}

function generateWeekMeals(band){
  const templates = {
    1200: [
      ["ุดููุงู ูุน ูุจู ุฎุงูู ุงูุฏุณู","ุตุฏุฑ ุฏุฌุงุฌ ูุดูู","ุณูู ูุดูู","ุชูุงุญุฉ","ุฒุจุงุฏู"],
      ["ุชูุณุช + ุจูุถุชูู","ุจุฑุบุฑ ุฏุฌุงุฌ ุตุบูุฑ","ุชููุฉ","ููุฒุฉ","ููุฒ"],
      ["ุณููุซู","ุณูุทุฉ ููููุง","ุฏุฌุงุฌ ูุดูู","ููุณุฑุงุช","ุฎูุงุฑ"],
      ["ุฒุจุงุฏู ูุฌุฑุงูููุง","ุณูุฏููุชุด ุชุฑูู","ุณูููู ุตุบูุฑ","ุจุฑุชูุงู","ูุงุฌู"],
      ["ุจูุถ + ุชูุณุช","ุชุจููุฉ + ุฏุฌุงุฌ","ูุญู ุจูุฑู","ุชูุงุญ","ุฒุจุงุฏู"],
      ["ุนุตูุฑ ุฎุถุงุฑ","ุดูุฑุจุฉ ุนุฏุณ","ุณูู ูุดูู","ููุฒุฉ","ุฌูุฒ"],
      ["ููู + ุจูุถุฉ","ุณูุทุฉ ุญูุต","ุฏุฌุงุฌ ูุน ุฎุถุงุฑ","ุฎูุงุฑ","ุฒุจุงุฏู"]
    ],
    1500: [
      ["ุดููุงู","ุฏุฌุงุฌ ูุดูู","ุณูู","ุชูุงุญุฉ","ุฒุจุงุฏู"],
      ["ุชูุณุช + ุจูุถ","ุจุฑุฌุฑ ูุญู ุตุบูุฑ","ุฃุฑุฒ ุจูู + ุฏุฌุงุฌ","ููุฒ","ููุณุฑุงุช"],
      ["ุณููุซู ุจุฑูุชูู","ุณูุทุฉ ุชููุฉ","ูุงุฑู ุฎุถุงุฑ","ุจุฑุชูุงู","ุฒุจุงุฏู"],
      ["ุจุงูููู","ุณูุทุฉ ุฌุจู","ุณูููู","ุชูุงุญ","ููุฒ"],
      ["ุจูุถ ูุณููู + ุชูุณุช","ุชุจููุฉ + ูุญู","ูุนูุฑููุฉ ููุญ","ููุฒ","ุฒุจุงุฏู"],
      ["ุนุตูุฑ + ุฒุจุงุฏู","ุญุณุงุก + ุฏุฌุงุฌ","ุณุชูู","ุจุฑุชูุงู","ููุณุฑุงุช"],
      ["ููู","ุณูุฏููุชุด ุฏุฌุงุฌ","ุฎุถุงุฑ + ุณูู","ุชูุงุญ","ุฒุจุงุฏู"]
    ],
    1800: [
      ["ุดููุงู+ุจูุถ","ุฏุฌุงุฌ + ุฃุฑุฒ ุจูู","ุณูููู","ููุฒ","ุฒุจุงุฏู"],
      ["ุชูุณุช+ุฃูููุงุฏู+ุจูุถุฉ","ุจุฑุฌุฑ ุฏุฌุงุฌ","ุจุงุณุชุง","ุจุฑุชูุงู","ููุณุฑุงุช"],
      ["ุณููุซู ุจุฑูุชูู","ููููุง + ุชููุฉ","ุณุชูู","ุชูุงุญ","ุฒุจุงุฏู"],
      ["ุจุงูููู ุดููุงู","ุณูุทุฉ + ุฏุฌุงุฌ","ุณูู","ููุฒ","ููุฒ"],
      ["ุจูุถ + ุชูุณุช","ุณูุทุฉ + ูุญู","ุฃุฑุฒ + ุฏุฌุงุฌ","ุชูุงุญ","ุฒุจุงุฏู"],
      ["ุนุตูุฑ + ุชูุณุช","ุญุณุงุก + ุฏูู ุฑููู","ุณุชูู","ุจุฑุชูุงู","ููุณุฑุงุช"],
      ["ููู","ุณูุฏููุชุด ุฌุจู","ุฎุถุงุฑ+ุณูู","ุชูุงุญ","ุฒุจุงุฏู"]
    ],
    2200: [
      ["ุดููุงู + ุจูุถ + ููุฒ","ุฏุฌุงุฌ ูุดูู + ุฃุฑุฒ ุจูู + ุณูุทุฉ","ูุญู ูุดูู","ุชูุงุญ","ุฒุจุงุฏู"],
      ["ุชูุณุช + ุฃูููุงุฏู + ุจูุถุฉ + ูุจู","ุจุฑุฌุฑ ุฏุฌุงุฌ ูุชูุณุท ุงูุญุฌู","ุจุงุณุชุง + ุตูุตุฉ ุทูุงุทู","ุจุฑุชูุงู","ููุณุฑุงุช"],
      ["ุณููุซู ุจุฑูุชูู + ููุณุฑุงุช","ููููุง + ุชููุฉ + ุฎุถุฑูุงุช","ุณุชูู ูุญู","ุชูุงุญ","ุฒุจุงุฏู"],
      ["ุจุงูููู ุดููุงู + ุนุณู","ุณูุทุฉ ุฏุฌุงุฌ + ุฌุจู","ุณูู ูุดูู","ููุฒ","ููุฒ"],
      ["ุจูุถ + ุชูุณุช + ุฌุจู","ุชุจููุฉ + ูุญู + ุฃุฑุฒ","ูุนูุฑููุฉ ููุญ","ููุฒ","ุฒุจุงุฏู"],
      ["ุนุตูุฑ + ุชูุณุช + ุฒุจุงุฏู","ุญุณุงุก ุฏูู ุฑููู + ุณูุทุฉ","ุณุชูู ูุญู","ุจุฑุชูุงู","ููุณุฑุงุช"],
      ["ููู + ุจูุถ + ุฌุจู","ุณูุฏููุชุด ุฏุฌุงุฌ + ุฎุถุฑูุงุช","ุณูู ูุดูู","ุชูุงุญ","ุฒุจุงุฏู"]
    ],
    2600: [
      ["ุดููุงู + ุจูุถ + ููุฒ + ููุณุฑุงุช","ุฏุฌุงุฌ ูุดูู + ุฃุฑุฒ ุจูู + ุณูุทุฉ ูุจูุฑุฉ","ูุญู ูุดูู","ุชูุงุญ","ุฒุจุงุฏู"],
      ["ุชูุณุช + ุฃูููุงุฏู + ุจูุถุฉ + ูุจู","ุจุฑุฌุฑ ุฏุฌุงุฌ ูุจูุฑ","ุจุงุณุชุง + ุตูุตุฉ ุทูุงุทู + ุฌุจู","ุจุฑุชูุงู","ููุณุฑุงุช"],
      ["ุณููุซู ุจุฑูุชูู + ููุณุฑุงุช","ููููุง + ุชููุฉ + ุฎุถุฑูุงุช","ุณุชูู ูุญู ูุจูุฑ","ุชูุงุญ","ุฒุจุงุฏู"],
      ["ุจุงูููู ุดููุงู + ุนุณู + ููุฒ","ุณูุทุฉ ุฏุฌุงุฌ + ุฌุจู + ุฒูุช ุฒูุชูู","ุณูู ูุดูู","ููุฒ","ููุฒ"],
      ["ุจูุถ + ุชูุณุช + ุฌุจู + ุฒุจุฏุฉ","ุชุจููุฉ + ูุญู + ุฃุฑุฒ + ุฎุถุงุฑ","ูุนูุฑููุฉ ููุญ","ููุฒ","ุฒุจุงุฏู"],
      ["ุนุตูุฑ + ุชูุณุช + ุฒุจุงุฏู + ููุณุฑุงุช","ุญุณุงุก ุฏูู ุฑููู + ุณูุทุฉ ูุจูุฑุฉ","ุณุชูู ูุญู","ุจุฑุชูุงู","ููุณุฑุงุช"],
      ["ููู + ุจูุถ + ุฌุจู + ุฒุจุฏุฉ","ุณูุฏููุชุด ุฏุฌุงุฌ + ุฎุถุฑูุงุช + ุฌุจู","ุณูู ูุดูู","ุชูุงุญ","ุฒุจุงุฏู"]
    ]
  };
  if(!templates[band]){
    const keys=Object.keys(templates).map(k=>parseInt(k));
    let nearest=keys.reduce((a,b)=> Math.abs(a-band) < Math.abs(b-band) ? a : b );
    return templates[nearest];
  }
  return templates[band];
}

function calcAndRender(){
  const age=Number(document.getElementById('age').value);
  const height=Number(document.getElementById('height').value);
  const weight=Number(document.getElementById('weight').value);
  const gender=document.getElementById('gender').value;
  const activity=Number(document.getElementById('activity').value);
  const goal=document.getElementById('goal').value;

  if(!age || !height || !weight || !gender || !activity || !goal){
    alert('ูุฑุฌู ุชุนุจุฆุฉ ุฌููุน ุงูุญููู ุจุดูู ุตุญูุญ.');
    return;
  }

  let bmrMale = 10*weight + 6.25*height - 5*age + 5;
  let bmrFemale = 10*weight + 6.25*height - 5*age - 161;
  let bmr;
  if(gender==='male') bmr = bmrMale;
  else if(gender==='female') bmr = bmrFemale;
  else bmr = (bmrMale + bmrFemale)/2;

  let tdee = Math.round(bmr * activity);

  let targetKcal = tdee;
  if(goal==='lose') targetKcal = Math.round(tdee - 500);
  else if(goal==='gain') targetKcal = Math.round(tdee + 400);
  if(targetKcal < 1200) targetKcal = 1200;

  const band = roundToBand(targetKcal);
  const bmi = (weight / ((height/100)*(height/100))).toFixed(1);

  const week = generateWeekMeals(band);
  let plan="";
  plan += `BMR โ ${Math.round(bmr)} kcal/day\nTDEE โ ${tdee} kcal/day\nุงูุณุนุฑุงุช ุงูููุตู ุจูุง โ ${targetKcal} kcal/day\nBMI = ${bmi}\n\nุฎุทุฉ ุบุฐุงุฆูุฉ 30 ููู:\n\n`;

  for(let day=1; day<=30; day++){
    const wIndex = (day-1) % 7;
    const meals = week[wIndex];
    plan += `ุงูููู ${day}: ูุทูุฑ: ${meals[0]} | ุบุฏุงุก: ${meals[1]} | ุนุดุงุก: ${meals[2]} | ุณูุงู1: ${meals[3]} | ุณูุงู2: ${meals[4]}\n\n`; // ุณุทุฑ ูุงุฑุบ ุจุนุฏ ูู ููู
  }

  const out = document.getElementById('output');
  out.style.display = 'block';
  out.innerHTML = `<h2>ุงูุฎุทุฉ ุฌุงูุฒุฉ</h2><pre class="result">${plan}</pre>`;
  window.scrollTo({top:0,behavior:'smooth'});
}

document.getElementById('calcBtn').addEventListener('click',calcAndRender);
document.getElementById('printBtn').addEventListener('click',()=> window.print());
</script>
</body>
</html>
